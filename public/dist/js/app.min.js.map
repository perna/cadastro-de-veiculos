{"version":3,"sources":["app.min.js"],"names":["CarrosController","CarrosService","$routeParams","$location","listCarros","result","list","then","response","vm","total","data","length","createCarro","formCarro","$valid","id","placa","carro","modelo","marca","imagem","combustivel","valor","save","message","showMessage","typeMessage","setTimeout","path","catch","err","getCarro","getById","console","log","updateCarro","formEditCarro","update","deleteCarro","showDeleteQuestion","remove","i","splice","this","id_carro","currentPage","pageSize","$http","SweetAlert","get","endpoint","delete","JSON","stringify","post","put","callback","swal","title","text","type","showCancelButton","cancelButtonText","confirmButtonColor","confirmButtonText","closeOnConfirm","isConfirm","angular","module","config","$routeProvider","$locationProvider","paginationTemplateProvider","hashPrefix","when","templateUrl","controller","controllerAs","otherwise","redirectTo","setPath","$inject","factory"],"mappings":"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","file":"app.min.js","sourcesContent":["function CarrosController(CarrosService,$routeParams,$location){function listCarros(){var result=CarrosService.list();result.then(function(response){vm.total=response.data.length,vm.list=response.data})}function createCarro(){if(vm.formCarro.$valid){var data={id:0,placa:vm.carro.placa,modelo:vm.carro.modelo,marca:vm.carro.marca,imagem:vm.carro.imagem||null,combustivel:vm.carro.combustivel||null,valor:vm.carro.valor||null},result=CarrosService.save(data);result.then(function(response){vm.message=\"Cadastro realizado com sucesso! Voltando para a listagem de carros...\",vm.showMessage=!0,vm.typeMessage=!0,setTimeout($location.path(\"/\"),2e3)}).catch(function(err){vm.message=err,vm.showMessage=!0,vm.typeMessage=!1})}}function getCarro(id){var result=CarrosService.getById(id);result.then(function(response){vm.carro=response.data,console.log(response.data)})}function updateCarro(){if(vm.formEditCarro.$valid){var result=CarrosService.update(vm.carro.id,vm.carro);result.then(function(response){$location.path(\"/\")}).catch(function(err){console.log(err)})}}function deleteCarro(id){CarrosService.showDeleteQuestion(function(){var result=CarrosService.remove(id);result.then(function(data){for(var i=0;i<vm.list.length;i++)if(vm.list[i].id==id){vm.list.splice(i,1);break}$location.path(\"/\")})})}var vm=this;vm.id_carro=$routeParams.id||\"\",vm.list=[],vm.carro={},vm.formCarro,vm.currentPage=1,vm.pageSize=5,vm.total,vm.listCarros=listCarros,vm.createCarro=createCarro,vm.getCarro=getCarro,vm.updateCarro=updateCarro,vm.deleteCarro=deleteCarro}function CarrosService($http,SweetAlert,$location){function list(){return $http.get(endpoint)}function getById(id){return $http.get(endpoint+id)}function remove(id){return $http.delete(endpoint+id)}function save(carro){var data=JSON.stringify(carro);return $http.post(endpoint,data)}function update(id,carro){var data=JSON.stringify(carro);return $http.put(endpoint+id,data)}function showDeleteQuestion(callback){SweetAlert.swal({title:\"Atenção\",text:\"Deseja realmente excluir este carro?\",type:\"warning\",showCancelButton:!0,cancelButtonText:\"Não\",confirmButtonColor:\"#DD6B55\",confirmButtonText:\"Sim\",closeOnConfirm:!0},function(isConfirm){isConfirm&&callback()})}var endpoint=\"/carros/\";return{list:list,save:save,getById:getById,update:update,showDeleteQuestion:showDeleteQuestion,remove:remove}}angular.module(\"app\",[\"ngRoute\",\"oitozero.ngSweetAlert\",\"angularUtils.directives.dirPagination\"]).config([\"$routeProvider\",\"$locationProvider\",\"paginationTemplateProvider\",function($routeProvider,$locationProvider,paginationTemplateProvider){$locationProvider.hashPrefix(\"\"),$routeProvider.when(\"/\",{templateUrl:\"/partials/list.html\",controller:\"CarrosController\",controllerAs:\"Carros\"}).when(\"/novo\",{templateUrl:\"/partials/create.html\",controller:\"CarrosController\",controllerAs:\"Carro\"}).when(\"/editar/:id\",{templateUrl:\"/partials/edit.html\",controller:\"CarrosController\",controllerAs:\"Carro\"}).otherwise({redirectTo:\"/\"}),paginationTemplateProvider.setPath(\"js/libraries/dirPagination.tpl.html\")}]),angular.module(\"app\").controller(\"CarrosController\",CarrosController),CarrosController.$inject=[\"CarrosService\",\"$routeParams\",\"$location\"],angular.module(\"app\").factory(\"CarrosService\",CarrosService),CarrosService.$inject=[\"$http\",\"SweetAlert\",\"$location\"];\n//# sourceMappingURL=app.min.js.map\n"]}